apiVersion: projectcalico.org/v3
kind: EarlyNetworkConfiguration
spec:
  legacy:
    nodeIPFromDefaultRoute: true
    unconditionalDefaultRouteProgramming: true
  nodes:
    # Rack A
    - interfaceAddresses:
        - 172.31.11.2
        - 172.31.12.2
      stableAddress:
        address: 172.31.10.2
      asNumber: 65001
      peerings:
        - peerIP: 172.31.11.1
        - peerIP: 172.31.12.1
    - interfaceAddresses:
        - 172.31.11.3
        - 172.31.12.3
      stableAddress:
        address: 172.31.10.3
      asNumber: 65001
      peerings:
        - peerIP: 172.31.11.1
        - peerIP: 172.31.12.1
    - interfaceAddresses:
        - 172.31.11.4
        - 172.31.12.4
      stableAddress:
        address: 172.31.10.4
      asNumber: 65001
      peerings:
        - peerIP: 172.31.11.1
        - peerIP: 172.31.12.1
    - interfaceAddresses:
        - 172.31.11.5
        - 172.31.12.5
      stableAddress:
        address: 172.31.10.5
      asNumber: 65001
      peerings:
        - peerIP: 172.31.11.1
        - peerIP: 172.31.12.1
    - interfaceAddresses:
        - 172.31.11.6
        - 172.31.12.6
      stableAddress:
        address: 172.31.10.6
      asNumber: 65001
      peerings:
        - peerIP: 172.31.11.1
        - peerIP: 172.31.12.1
    - interfaceAddresses:
        - 172.31.11.7
        - 172.31.12.7
      stableAddress:
        address: 172.31.10.7
      asNumber: 65001
      peerings:
        - peerIP: 172.31.11.1
        - peerIP: 172.31.12.1
    - interfaceAddresses:
        - 172.31.11.8
        - 172.31.12.8
      stableAddress:
        address: 172.31.10.8
      asNumber: 65001
      peerings:
        - peerIP: 172.31.11.1
        - peerIP: 172.31.12.1
    - interfaceAddresses:
        - 172.31.11.9
        - 172.31.12.9
      stableAddress:
        address: 172.31.10.9
      asNumber: 65001
      peerings:
        - peerIP: 172.31.11.1
        - peerIP: 172.31.12.1

    # Rack B
    - interfaceAddresses:
        - 172.31.21.2
        - 172.31.22.2
      stableAddress:
        address: 172.31.20.2
      asNumber: 65002
      peerings:
        - peerIP: 172.31.21.1
        - peerIP: 172.31.22.1
    - interfaceAddresses:
        - 172.31.21.3
        - 172.31.22.3
      stableAddress:
        address: 172.31.20.3
      asNumber: 65002
      peerings:
        - peerIP: 172.31.21.1
        - peerIP: 172.31.22.1
    - interfaceAddresses:
        - 172.31.21.4
        - 172.31.22.4
      stableAddress:
        address: 172.31.20.4
      asNumber: 65002
      peerings:
        - peerIP: 172.31.21.1
        - peerIP: 172.31.22.1
    - interfaceAddresses:
        - 172.31.21.5
        - 172.31.22.5
      stableAddress:
        address: 172.31.20.5
      asNumber: 65002
      peerings:
        - peerIP: 172.31.21.1
        - peerIP: 172.31.22.1
    - interfaceAddresses:
        - 172.31.21.6
        - 172.31.22.6
      stableAddress:
        address: 172.31.20.6
      asNumber: 65002
      peerings:
        - peerIP: 172.31.21.1
        - peerIP: 172.31.22.1
    - interfaceAddresses:
        - 172.31.21.7
        - 172.31.22.7
      stableAddress:
        address: 172.31.20.7
      asNumber: 65002
      peerings:
        - peerIP: 172.31.21.1
        - peerIP: 172.31.22.1
    - interfaceAddresses:
        - 172.31.21.8
        - 172.31.22.8
      stableAddress:
        address: 172.31.20.8
      asNumber: 65002
      peerings:
        - peerIP: 172.31.21.1
        - peerIP: 172.31.22.1
    - interfaceAddresses:
        - 172.31.21.9
        - 172.31.22.9
      stableAddress:
        address: 172.31.20.9
      asNumber: 65002
      peerings:
        - peerIP: 172.31.21.1
        - peerIP: 172.31.22.1
